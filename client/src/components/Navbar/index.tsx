import React, { useState,MouseEvent } from 'react';
import {Link} from "react-router-dom";
import {useNavigate} from "react-router-dom";
import {allQuantity} from "../../utils/allQuantity";
import { useSelector } from 'react-redux';
import { RootState } from '../../Redux/store';


const Navbar = () => {
    const [open,setOpen]=useState<boolean>(false)
    const [mobile,setMobile]=useState<boolean>(false)
    const navigate=useNavigate()
    const defaultList = useSelector((state: RootState) => state.user)
    const {list}=defaultList

    const like = useSelector((state:any) => state.like.like)
    const cart = useSelector((state:any) => state.cartReducer.cart)


    const documentElement=document.body
    documentElement.addEventListener('click',()=>{
        setOpen(false)
    })
    const handleOpen = (e:MouseEvent<HTMLButtonElement>) => {
        e.stopPropagation()
        setOpen(!open)
    }
    const logOut=()=>{
        localStorage.removeItem('token')
        navigate('/')
        window.location.reload();

      }
    return (
        <header>
            <div className="container">
                <div className="header_main">
                    <div className="left">
                        <div className="logo">
                            <Link to={"/"}>
                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
                                     className="bi bi-apple" viewBox="0 0 16 16">
                                    <path
                                        d="M11.182.008C11.148-.03 9.923.023 8.857 1.18c-1.066 1.156-.902 2.482-.878 2.516.024.034 1.52.087 2.475-1.258.955-1.345.762-2.391.728-2.43Zm3.314 11.733c-.048-.096-2.325-1.234-2.113-3.422.212-2.189 1.675-2.789 1.698-2.854.023-.065-.597-.79-1.254-1.157a3.692 3.692 0 0 0-1.563-.434c-.108-.003-.483-.095-1.254.116-.508.139-1.653.589-1.968.607-.316.018-1.256-.522-2.267-.665-.647-.125-1.333.131-1.824.328-.49.196-1.422.754-2.074 2.237-.652 1.482-.311 3.83-.067 4.56.244.729.625 1.924 1.273 2.796.576.984 1.34 1.667 1.659 1.899.319.232 1.219.386 1.843.067.502-.308 1.408-.485 1.766-.472.357.013 1.061.154 1.782.539.571.197 1.111.115 1.652-.105.541-.221 1.324-1.059 2.238-2.758.347-.79.505-1.217.473-1.282Z"/>
                                    <path
                                        d="M11.182.008C11.148-.03 9.923.023 8.857 1.18c-1.066 1.156-.902 2.482-.878 2.516.024.034 1.52.087 2.475-1.258.955-1.345.762-2.391.728-2.43Zm3.314 11.733c-.048-.096-2.325-1.234-2.113-3.422.212-2.189 1.675-2.789 1.698-2.854.023-.065-.597-.79-1.254-1.157a3.692 3.692 0 0 0-1.563-.434c-.108-.003-.483-.095-1.254.116-.508.139-1.653.589-1.968.607-.316.018-1.256-.522-2.267-.665-.647-.125-1.333.131-1.824.328-.49.196-1.422.754-2.074 2.237-.652 1.482-.311 3.83-.067 4.56.244.729.625 1.924 1.273 2.796.576.984 1.34 1.667 1.659 1.899.319.232 1.219.386 1.843.067.502-.308 1.408-.485 1.766-.472.357.013 1.061.154 1.782.539.571.197 1.111.115 1.652-.105.541-.221 1.324-1.059 2.238-2.758.347-.79.505-1.217.473-1.282Z"/>
                                </svg>
                                <span>AppleUz</span>
                            </Link>
                        </div>
                        <div className="links">
                            <Link to={"/products/mac"}>Mac</Link>
                            <Link to={"/products/iphone"}>Iphone</Link>
                            <Link to={"/products/ipad"}>Ipad</Link>
                            <Link to={"/products/watch"}>Watch</Link>
                            <Link to={"/bro-service"}>
                                <svg xmlns="http://www.w3.org/2000/svg" width="26" height="20" viewBox="0 0 24 19" fill="white"><path d="M0.00390625 5.73484V11.4717L2.81952 11.4652C5.2842 11.4603 5.65788 11.4571 5.83173 11.4343C6.07381 11.4018 6.44099 11.332 6.58396 11.2913C6.64245 11.2735 6.73831 11.2458 6.7968 11.228C6.95765 11.1809 7.2241 11.0704 7.39632 10.9794C7.99583 10.661 8.43613 10.232 8.7237 9.68288C9.04377 9.07524 9.1445 8.14916 8.96578 7.45703C8.87155 7.08985 8.69283 6.73891 8.45562 6.45459C8.36139 6.34411 8.13068 6.11665 8.03808 6.04354C8.00233 6.01592 7.95846 5.9818 7.94222 5.96718C7.87398 5.91194 7.68227 5.79496 7.54092 5.7251C7.24359 5.57725 6.92028 5.47977 6.56447 5.43265C6.39387 5.4099 6.35651 5.40016 6.35651 5.37903C6.35651 5.35791 6.389 5.34492 6.49948 5.32217C6.81955 5.25556 7.12012 5.13045 7.38494 4.95174C7.56204 4.83313 7.59778 4.80389 7.77 4.63004C8.13393 4.26774 8.34514 3.87943 8.45562 3.3774C8.50599 3.14019 8.51411 2.67552 8.47025 2.38308C8.34677 1.54635 7.90972 0.924092 7.13636 0.478922C6.93815 0.365193 6.62946 0.238466 6.39387 0.171853C6.13717 0.100366 5.9552 0.0662471 5.54578 0.0158812C5.45804 0.00613295 4.45073 -0.000365868 2.70579 -0.000365868H0.00390625V5.73484ZM4.87802 1.8258C5.48566 1.94278 5.85935 2.21573 6.04781 2.67552C6.10955 2.82987 6.13392 2.99234 6.1323 3.24092C6.13067 3.56424 6.08193 3.76733 5.9487 3.98666C5.7115 4.38146 5.33619 4.60405 4.70743 4.72265C4.60182 4.74377 4.37436 4.74865 3.49377 4.75515L2.40847 4.76165V3.27342V1.78519L3.57501 1.79168C4.57583 1.79656 4.75942 1.80143 4.87802 1.8258ZM4.83903 6.36848C5.29557 6.4091 5.71962 6.54557 5.99582 6.74216C6.39062 7.02161 6.57584 7.39204 6.59534 7.93632C6.60509 8.1979 6.58396 8.36687 6.51573 8.57808C6.34513 9.11261 5.88372 9.47654 5.21109 9.60814C4.88452 9.67151 4.81628 9.67476 3.60263 9.67476H2.41659L2.41172 8.01268L2.40847 6.35223H3.53277C4.15178 6.35223 4.73992 6.36036 4.83903 6.36848Z" fill="white"></path><path d="M19.3772 2.77367C19.0084 2.79966 18.5096 2.89714 18.1993 3.00275C17.7687 3.15222 17.4048 3.35044 17.0457 3.63314C16.8524 3.78586 16.5697 4.0783 16.4218 4.27652C16.3536 4.36913 16.2935 4.45036 16.2854 4.46011C16.1879 4.57871 15.9685 5.01576 15.8629 5.29683C15.4698 6.34639 15.4486 7.87199 15.8093 8.97842C15.8662 9.15226 16.0287 9.53569 16.0823 9.6218C16.1034 9.65592 16.1196 9.68841 16.1196 9.69329C16.1196 9.71928 16.4007 10.1482 16.4446 10.1872C16.4495 10.1921 16.4819 10.2311 16.5161 10.2766C16.5518 10.3204 16.6639 10.4423 16.7679 10.5446C17.3219 11.0954 18.0059 11.4333 18.8556 11.5763C19.4568 11.6771 20.2464 11.6706 20.8069 11.5584C21.4389 11.4333 21.9865 11.1945 22.456 10.8403C22.6298 10.7087 23.0149 10.3188 23.1481 10.1385C23.6501 9.46258 23.9101 8.68597 23.9832 7.65266C24.0303 6.9784 23.9735 6.30253 23.8191 5.71113C23.6908 5.22047 23.4763 4.74931 23.2147 4.38537C23.0653 4.17579 23.0181 4.12055 22.8215 3.92233C22.4755 3.57302 22.144 3.34069 21.7167 3.14735C21.1319 2.88252 20.4836 2.75742 19.7362 2.76554C19.5835 2.76717 19.4227 2.77042 19.3772 2.77367ZM20.1424 4.57546C20.815 4.71356 21.3089 5.27571 21.5185 6.14168C21.6014 6.47962 21.6193 6.66159 21.6193 7.18962C21.6193 7.72252 21.6046 7.89149 21.5299 8.2213C21.3723 8.91993 21.0766 9.38297 20.6119 9.66079C20.1928 9.911 19.5835 9.94512 19.1091 9.74528C18.6721 9.56169 18.3309 9.17176 18.1278 8.62423C17.8613 7.90936 17.8353 6.76557 18.0677 5.97921C18.2578 5.33095 18.6493 4.85166 19.1481 4.65345C19.2618 4.60796 19.4194 4.56897 19.5884 4.54297C19.6777 4.52997 20.0173 4.54947 20.1424 4.57546Z" fill="white"></path><path d="M14.2113 2.82727C13.5289 2.9345 13.0334 3.30168 12.7166 3.93207C12.6483 4.06692 12.6337 4.10429 12.5476 4.35449C12.5249 4.42111 12.4989 4.47635 12.4891 4.47635C12.4794 4.47635 12.4712 4.20664 12.468 3.70786L12.4648 2.941H11.3437H10.2227V7.20585V11.4707H11.3843H12.5444L12.5492 8.90692L12.5541 6.34476L12.5915 6.17741C12.6938 5.716 12.8855 5.39268 13.2089 5.14572C13.3908 5.00438 13.667 4.89065 13.9432 4.84028C14.0976 4.81104 14.6386 4.81104 14.8043 4.83866C14.9083 4.85653 15.0951 4.90527 15.1715 4.93451C15.191 4.94101 15.1943 4.78017 15.1943 3.91907C15.1943 2.9345 15.1926 2.89388 15.1634 2.88413C14.9879 2.82889 14.4209 2.79478 14.2113 2.82727Z" fill="white"></path><path d="M15.308 12.8821C15.0383 12.965 14.8872 13.2087 14.9343 13.4816C14.9733 13.7075 15.1325 13.8634 15.3697 13.9073C15.6232 13.9528 15.8523 13.8358 15.9628 13.6019C16.0066 13.5076 16.0099 13.4881 16.0034 13.3663C15.9953 13.2038 15.9628 13.1323 15.8523 13.0202C15.745 12.913 15.6281 12.8675 15.4656 12.8691C15.4006 12.8691 15.3307 12.8756 15.308 12.8821Z" fill="white"></path><path d="M1.74168 12.9588C1.71894 12.962 1.64583 12.9734 1.57921 12.9832C1.23315 13.0319 0.831849 13.209 0.609265 13.4072C0.290822 13.6948 0.144599 13.9937 0.121853 14.4113C0.0942329 14.8824 0.266452 15.2707 0.619013 15.5307C0.843222 15.6964 1.17466 15.8296 1.57921 15.9125C2.30221 16.0636 2.57028 16.1416 2.74088 16.2488C2.97971 16.3983 3.05932 16.6469 2.95209 16.9036C2.88873 17.0547 2.65639 17.2155 2.40944 17.2789C2.08775 17.3617 1.6572 17.3065 1.381 17.144C1.21528 17.0482 1.06256 16.8516 1.03494 16.6972L1.02356 16.6371H0.511782H0L0.0113729 16.7379C0.0406176 17.0059 0.123478 17.2415 0.253454 17.4219C0.510158 17.7809 0.90821 18.0084 1.45736 18.1124C1.66695 18.1513 2.36882 18.1513 2.57841 18.1124C2.87735 18.0555 3.13081 17.9661 3.3339 17.8443C3.46387 17.7679 3.66371 17.5941 3.75145 17.482C3.79044 17.4332 3.82943 17.3845 3.83755 17.3747C3.84405 17.365 3.8733 17.313 3.89929 17.261C4.06989 16.9214 4.10726 16.4405 3.98865 16.0847C3.92204 15.8833 3.76282 15.6672 3.56785 15.5193C3.50611 15.4722 3.28678 15.3536 3.1763 15.3081C2.99921 15.235 2.4923 15.1067 2.02763 15.0189C1.74656 14.9653 1.44599 14.8386 1.32413 14.7216C1.17466 14.577 1.14054 14.3593 1.23965 14.1562C1.29976 14.0327 1.46548 13.9011 1.63608 13.8426C1.78393 13.7923 2.01463 13.7728 2.2031 13.7939C2.60765 13.841 2.88385 14.0441 2.95696 14.3463L2.98458 14.46H3.47849H3.9724L3.96103 14.343C3.92854 13.9905 3.79044 13.6997 3.54186 13.4592C3.2949 13.2187 2.97159 13.0628 2.56541 12.988C2.43868 12.9637 1.83429 12.9425 1.74168 12.9588Z" fill="white"></path><path d="M5.97356 14.2649C5.67786 14.3088 5.37404 14.4323 5.1612 14.5947C5.04747 14.6808 4.81189 14.9375 4.81189 14.9733C4.81189 14.9847 4.80702 14.996 4.80052 14.9993C4.74528 15.0236 4.60231 15.347 4.54544 15.5728C4.43496 16.0212 4.45121 16.5964 4.58768 17.0025C4.70791 17.3648 4.97924 17.7125 5.28143 17.8929C5.70548 18.1447 6.34237 18.2162 6.90126 18.0748C7.28957 17.9757 7.65838 17.719 7.84034 17.4185C7.90858 17.308 8.01256 17.0285 8.01256 16.9587V16.9148H7.5479H7.08486L7.04586 16.9993C6.93701 17.2349 6.65918 17.3843 6.32774 17.3843C6.08566 17.3843 5.91182 17.3226 5.75747 17.1829C5.58363 17.0237 5.49427 16.8287 5.48127 16.5752L5.47477 16.4258H6.76154H8.04831L8.04018 16.0878C8.03531 15.8295 8.02556 15.7174 7.99957 15.6053C7.93295 15.3128 7.84034 15.1065 7.67625 14.8872C7.42117 14.546 7.04261 14.3315 6.5747 14.2649C6.44635 14.247 6.09541 14.247 5.97356 14.2649ZM6.50971 15.0383C6.56333 15.0513 6.63969 15.0821 6.6803 15.1049C6.88014 15.2235 7.03611 15.4867 7.05724 15.7434L7.06211 15.8003L6.279 15.8051L5.49427 15.8084V15.7629C5.49427 15.7385 5.50564 15.6752 5.51864 15.6248C5.59013 15.3486 5.78672 15.1293 6.03855 15.0415C6.14253 15.0058 6.37973 15.0041 6.50971 15.0383Z" fill="white"></path><path d="M17.9863 14.2733C17.4713 14.3578 17.083 14.6064 16.8117 15.0272C16.6021 15.3522 16.4965 15.8022 16.516 16.2945C16.5387 16.8696 16.6768 17.2531 16.9871 17.6024C17.3218 17.9809 17.8271 18.1678 18.4445 18.1434C18.9092 18.1255 19.2438 18.0069 19.5444 17.7567C19.819 17.5276 20.0156 17.141 20.0399 16.7786L20.0448 16.7007L19.5704 16.6974L19.096 16.6942L19.0797 16.7673C19.0229 17.0321 18.8344 17.2433 18.5956 17.3132C18.4721 17.3489 18.2463 17.3473 18.1358 17.3115C18.0513 17.2839 17.9213 17.2092 17.8515 17.1458C17.7507 17.0565 17.6305 16.8209 17.5883 16.6292C17.5428 16.4277 17.5476 15.9127 17.5964 15.7356C17.7507 15.1734 18.1732 14.9249 18.6622 15.1101C18.849 15.1816 19.0294 15.4123 19.0797 15.6446L19.0976 15.7275L19.5704 15.7242L20.0448 15.7193L20.0399 15.6543C20.0091 15.2303 19.7962 14.8387 19.4616 14.5885C19.265 14.4407 19.0554 14.3448 18.8019 14.288C18.6476 14.2522 18.165 14.2441 17.9863 14.2733Z" fill="white"></path><path d="M21.9454 14.2586C21.9275 14.2635 21.8544 14.2781 21.7829 14.2911C21.4531 14.3545 21.1834 14.4974 20.9543 14.7282C20.566 15.1165 20.3873 15.6542 20.4149 16.335C20.4474 17.1132 20.7658 17.6656 21.3491 17.9597C21.7634 18.1693 22.4279 18.2067 22.9364 18.0507C23.2809 17.9435 23.6221 17.6851 23.7878 17.4057C23.8593 17.2838 23.9567 17.0125 23.9486 16.9573C23.9437 16.9215 23.9405 16.9215 23.5132 16.9166C23.0794 16.9118 23.0095 16.9166 23.0095 16.9475C23.0095 16.9751 22.9007 17.136 22.8454 17.1896C22.7756 17.2562 22.5839 17.3488 22.475 17.3683C21.9015 17.4739 21.4482 17.1343 21.4206 16.5754L21.4141 16.426H22.7008H23.9876L23.9795 16.088C23.9697 15.6591 23.9291 15.4593 23.7943 15.175C23.5684 14.7022 23.1769 14.4032 22.6196 14.2814C22.5302 14.2602 22.0055 14.244 21.9454 14.2586ZM22.423 15.0304C22.7317 15.1002 22.9478 15.3715 22.9998 15.7468L23.0079 15.8086H22.2199H21.4336V15.7631C21.4336 15.6152 21.5376 15.3845 21.6675 15.2448C21.8576 15.0401 22.1273 14.9637 22.423 15.0304Z" fill="white"></path><path d="M10.3081 14.2825C10.105 14.3117 9.91166 14.4206 9.78981 14.5717C9.72482 14.6513 9.68908 14.7195 9.5851 14.947C9.56073 15.0006 9.5591 14.9876 9.5591 14.6659L9.55748 14.3296L9.06682 14.3328L8.57453 14.3377L8.56966 16.2012L8.56641 18.0664H9.07819H9.58997V16.9876C9.58997 15.7902 9.59484 15.7171 9.68908 15.5335C9.82718 15.2654 10.1099 15.1241 10.4576 15.1501C10.5372 15.1566 10.633 15.1712 10.672 15.1826C10.7094 15.1939 10.7451 15.1988 10.75 15.1939C10.7565 15.1891 10.7598 14.986 10.7598 14.7439V14.302L10.6477 14.2825C10.5193 14.263 10.4543 14.263 10.3081 14.2825Z" fill="white"></path><path d="M10.965 14.6334C11.0218 14.8024 11.1128 15.0623 11.1648 15.215C11.2168 15.3661 11.3127 15.6407 11.376 15.8243C11.4394 16.0079 11.5125 16.2191 11.5385 16.2955C11.5645 16.3718 11.6344 16.5717 11.6928 16.7423C11.9561 17.4945 12.0795 17.8552 12.112 17.9576L12.1445 18.0664L12.7294 18.0632L13.3143 18.0583L13.3988 17.8065C13.4459 17.6684 13.532 17.4149 13.5905 17.2459C13.7384 16.817 14.0568 15.8877 14.1705 15.5562C14.2225 15.4035 14.3102 15.1484 14.3655 14.9876C14.4207 14.8267 14.4938 14.6123 14.528 14.5116L14.5913 14.3296H14.0584H13.5255L13.4914 14.4466C13.4719 14.5116 13.4345 14.6497 13.4069 14.752C13.3793 14.8544 13.3419 14.9892 13.3257 15.0526C13.3078 15.1143 13.2688 15.2605 13.2363 15.3775C13.2054 15.4929 13.1616 15.6537 13.1388 15.735C13.1177 15.8146 13.0722 15.9803 13.0414 16.1005C13.0089 16.2207 12.9764 16.341 12.9666 16.3686C12.9585 16.3946 12.9211 16.5262 12.887 16.661C12.7814 17.0558 12.7522 17.1566 12.7392 17.1566C12.7343 17.1566 12.7213 17.129 12.7115 17.0948C12.7034 17.0623 12.6758 16.9616 12.6531 16.8722C12.6287 16.7829 12.5799 16.6074 12.5458 16.4823C12.4873 16.2744 12.4012 15.964 12.268 15.4669C12.2404 15.3645 12.2079 15.2475 12.1965 15.2069C12.1835 15.1663 12.1559 15.0607 12.1315 14.9713C12.1071 14.882 12.0665 14.7358 12.0422 14.6464C12.0178 14.557 11.9885 14.4498 11.9772 14.4059L11.9561 14.3296H11.4085H10.8594L10.965 14.6334Z" fill="white"></path><path d="M14.9512 16.198V18.0664H15.4678H15.9829V16.198V14.3296H15.4678H14.9512V16.198Z" fill="white"></path></svg>
                            </Link>
                        </div>
                    </div>
                    <div className="right">
                        <div onClick={()=>{
                            navigate('/favorites')
                        }} className="like">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor"
                                 className="bi bi-heart" viewBox="0 0 16 16">
                                <path
                                    d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>
                            </svg>
                            <span>Sevimlilar</span>
                            {like.length>0 &&<div className={"cart_quantity_num"}>
                                {like.length || 0}
                            </div>}
                        </div>
                        <div  onClick={()=>{
                            navigate('/cart')
                        }} className="cart">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor"
                                 className="bi bi-cart2" viewBox="0 0 16 16">
                                <path
                                    d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l1.25 5h8.22l1.25-5H3.14zM5 13a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z"/>
                            </svg>
                            <span>Savatcha</span>
                            {cart?.length>=1 && <div className={"cart_quantity_num"}>
                                {allQuantity()}
                            </div>}
                        </div>
                        {
                        !list.user
                            ?
                            <button onClick={()=>{
                                navigate('/signin')
                            }}>Kirish</button>
                            :
                            <button  className='button_btn' onClick={handleOpen}>
                                <svg  xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                                    className="bi bi-person-circle" viewBox="0 0 16 16">
                                    <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                                    <path fillRule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
                                </svg>
                                <h6>Kabinet</h6>
                               {open&& <div className="user_nav_list">
                                    <span onClick={()=>{
                                        navigate('/profile')
                                    }}>Profil</span>
                                    {/*<span>Xabarnoma</span>*/}
                                    <span onClick={()=>{
                                        navigate('/orders')
                                    }}>Buyurtmalar tarixi</span>
                                    <span onClick={logOut}>Chiqish</span>
                                </div>}
                            </button>

                        }


                    </div>
                </div>
                <div className="header_mobile">
                    {mobile
                        ?
                        <button onClick={()=>setMobile(!mobile)} className={"hamburg"}>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 className="bi bi-x-lg" viewBox="0 0 16 16">
                                <path
                                    d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
                            </svg>
                        </button>
                        :
                        <button onClick={()=>setMobile(!mobile)} className={"hamburg"}>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 className="bi bi-list" viewBox="0 0 16 16">
                                <path fillRule="evenodd"
                                      d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
                            </svg>
                        </button>

                    }


                    <div className="logo">
                        <Link to={"/"}>
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
                                 className="bi bi-apple" viewBox="0 0 16 16">
                                <path
                                    d="M11.182.008C11.148-.03 9.923.023 8.857 1.18c-1.066 1.156-.902 2.482-.878 2.516.024.034 1.52.087 2.475-1.258.955-1.345.762-2.391.728-2.43Zm3.314 11.733c-.048-.096-2.325-1.234-2.113-3.422.212-2.189 1.675-2.789 1.698-2.854.023-.065-.597-.79-1.254-1.157a3.692 3.692 0 0 0-1.563-.434c-.108-.003-.483-.095-1.254.116-.508.139-1.653.589-1.968.607-.316.018-1.256-.522-2.267-.665-.647-.125-1.333.131-1.824.328-.49.196-1.422.754-2.074 2.237-.652 1.482-.311 3.83-.067 4.56.244.729.625 1.924 1.273 2.796.576.984 1.34 1.667 1.659 1.899.319.232 1.219.386 1.843.067.502-.308 1.408-.485 1.766-.472.357.013 1.061.154 1.782.539.571.197 1.111.115 1.652-.105.541-.221 1.324-1.059 2.238-2.758.347-.79.505-1.217.473-1.282Z"/>
                                <path
                                    d="M11.182.008C11.148-.03 9.923.023 8.857 1.18c-1.066 1.156-.902 2.482-.878 2.516.024.034 1.52.087 2.475-1.258.955-1.345.762-2.391.728-2.43Zm3.314 11.733c-.048-.096-2.325-1.234-2.113-3.422.212-2.189 1.675-2.789 1.698-2.854.023-.065-.597-.79-1.254-1.157a3.692 3.692 0 0 0-1.563-.434c-.108-.003-.483-.095-1.254.116-.508.139-1.653.589-1.968.607-.316.018-1.256-.522-2.267-.665-.647-.125-1.333.131-1.824.328-.49.196-1.422.754-2.074 2.237-.652 1.482-.311 3.83-.067 4.56.244.729.625 1.924 1.273 2.796.576.984 1.34 1.667 1.659 1.899.319.232 1.219.386 1.843.067.502-.308 1.408-.485 1.766-.472.357.013 1.061.154 1.782.539.571.197 1.111.115 1.652-.105.541-.221 1.324-1.059 2.238-2.758.347-.79.505-1.217.473-1.282Z"/>
                            </svg>
                            <span>AppleUz</span>
                        </Link>
                    </div>
                    <div className="right">
                        <div onClick={()=>{
                            navigate('/favorites')
                        }} className="like">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor"
                                 className="bi bi-heart" viewBox="0 0 16 16">
                                <path
                                    d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>
                            </svg>
                            <span>Sevimlilar</span>
                            {like.length>0 &&<div className={"cart_quantity_num"}>
                                {like.length || 0}
                            </div>}
                        </div>
                        <div  onClick={()=>{
                            navigate('/cart')
                        }} className="cart">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor"
                                 className="bi bi-cart2" viewBox="0 0 16 16">
                                <path
                                    d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l1.25 5h8.22l1.25-5H3.14zM5 13a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z"/>
                            </svg>
                            <span>Savatcha</span>
                            {cart?.length>=1 &&<div className={"cart_quantity_num"}>
                                {allQuantity()}
                            </div>}
                        </div>
                        {
                            !list.user
                                ?
                                <button onClick={()=>{
                                    navigate('/signin')
                                }}>Kirish</button>
                                :
                                <button  className='button_btn' onClick={handleOpen}>
                                    <svg  xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                                          className="bi bi-person-circle" viewBox="0 0 16 16">
                                        <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                                        <path fillRule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
                                    </svg>
                                    <h6>Kabinet</h6>
                                    {open&& <div className="user_nav_list">
                                    <span onClick={()=>{
                                        navigate('/profile')
                                    }}>Profil</span>
                                        {/*<span>Xabarnoma</span>*/}
                                        <span>Buyurtmalar tarixi</span>
                                        <span onClick={logOut}>Chiqish</span>
                                    </div>}
                                </button>

                        }


                    </div>
                    <div className={mobile?"mobile_links open":"mobile_links"}>
                        <div className="links">
                            <Link to={"/products/mac"}>Mac</Link>
                            <Link to={"/products/iphone"}>Iphone</Link>
                            <Link to={"/products/ipad"}>Ipad</Link>
                            <Link to={"/products/watch"}>Watch</Link>
                            <Link to={"/bro-service"}>
                                <svg xmlns="http://www.w3.org/2000/svg" width="26" height="20" viewBox="0 0 24 19" fill="white"><path d="M0.00390625 5.73484V11.4717L2.81952 11.4652C5.2842 11.4603 5.65788 11.4571 5.83173 11.4343C6.07381 11.4018 6.44099 11.332 6.58396 11.2913C6.64245 11.2735 6.73831 11.2458 6.7968 11.228C6.95765 11.1809 7.2241 11.0704 7.39632 10.9794C7.99583 10.661 8.43613 10.232 8.7237 9.68288C9.04377 9.07524 9.1445 8.14916 8.96578 7.45703C8.87155 7.08985 8.69283 6.73891 8.45562 6.45459C8.36139 6.34411 8.13068 6.11665 8.03808 6.04354C8.00233 6.01592 7.95846 5.9818 7.94222 5.96718C7.87398 5.91194 7.68227 5.79496 7.54092 5.7251C7.24359 5.57725 6.92028 5.47977 6.56447 5.43265C6.39387 5.4099 6.35651 5.40016 6.35651 5.37903C6.35651 5.35791 6.389 5.34492 6.49948 5.32217C6.81955 5.25556 7.12012 5.13045 7.38494 4.95174C7.56204 4.83313 7.59778 4.80389 7.77 4.63004C8.13393 4.26774 8.34514 3.87943 8.45562 3.3774C8.50599 3.14019 8.51411 2.67552 8.47025 2.38308C8.34677 1.54635 7.90972 0.924092 7.13636 0.478922C6.93815 0.365193 6.62946 0.238466 6.39387 0.171853C6.13717 0.100366 5.9552 0.0662471 5.54578 0.0158812C5.45804 0.00613295 4.45073 -0.000365868 2.70579 -0.000365868H0.00390625V5.73484ZM4.87802 1.8258C5.48566 1.94278 5.85935 2.21573 6.04781 2.67552C6.10955 2.82987 6.13392 2.99234 6.1323 3.24092C6.13067 3.56424 6.08193 3.76733 5.9487 3.98666C5.7115 4.38146 5.33619 4.60405 4.70743 4.72265C4.60182 4.74377 4.37436 4.74865 3.49377 4.75515L2.40847 4.76165V3.27342V1.78519L3.57501 1.79168C4.57583 1.79656 4.75942 1.80143 4.87802 1.8258ZM4.83903 6.36848C5.29557 6.4091 5.71962 6.54557 5.99582 6.74216C6.39062 7.02161 6.57584 7.39204 6.59534 7.93632C6.60509 8.1979 6.58396 8.36687 6.51573 8.57808C6.34513 9.11261 5.88372 9.47654 5.21109 9.60814C4.88452 9.67151 4.81628 9.67476 3.60263 9.67476H2.41659L2.41172 8.01268L2.40847 6.35223H3.53277C4.15178 6.35223 4.73992 6.36036 4.83903 6.36848Z" fill="white"></path><path d="M19.3772 2.77367C19.0084 2.79966 18.5096 2.89714 18.1993 3.00275C17.7687 3.15222 17.4048 3.35044 17.0457 3.63314C16.8524 3.78586 16.5697 4.0783 16.4218 4.27652C16.3536 4.36913 16.2935 4.45036 16.2854 4.46011C16.1879 4.57871 15.9685 5.01576 15.8629 5.29683C15.4698 6.34639 15.4486 7.87199 15.8093 8.97842C15.8662 9.15226 16.0287 9.53569 16.0823 9.6218C16.1034 9.65592 16.1196 9.68841 16.1196 9.69329C16.1196 9.71928 16.4007 10.1482 16.4446 10.1872C16.4495 10.1921 16.4819 10.2311 16.5161 10.2766C16.5518 10.3204 16.6639 10.4423 16.7679 10.5446C17.3219 11.0954 18.0059 11.4333 18.8556 11.5763C19.4568 11.6771 20.2464 11.6706 20.8069 11.5584C21.4389 11.4333 21.9865 11.1945 22.456 10.8403C22.6298 10.7087 23.0149 10.3188 23.1481 10.1385C23.6501 9.46258 23.9101 8.68597 23.9832 7.65266C24.0303 6.9784 23.9735 6.30253 23.8191 5.71113C23.6908 5.22047 23.4763 4.74931 23.2147 4.38537C23.0653 4.17579 23.0181 4.12055 22.8215 3.92233C22.4755 3.57302 22.144 3.34069 21.7167 3.14735C21.1319 2.88252 20.4836 2.75742 19.7362 2.76554C19.5835 2.76717 19.4227 2.77042 19.3772 2.77367ZM20.1424 4.57546C20.815 4.71356 21.3089 5.27571 21.5185 6.14168C21.6014 6.47962 21.6193 6.66159 21.6193 7.18962C21.6193 7.72252 21.6046 7.89149 21.5299 8.2213C21.3723 8.91993 21.0766 9.38297 20.6119 9.66079C20.1928 9.911 19.5835 9.94512 19.1091 9.74528C18.6721 9.56169 18.3309 9.17176 18.1278 8.62423C17.8613 7.90936 17.8353 6.76557 18.0677 5.97921C18.2578 5.33095 18.6493 4.85166 19.1481 4.65345C19.2618 4.60796 19.4194 4.56897 19.5884 4.54297C19.6777 4.52997 20.0173 4.54947 20.1424 4.57546Z" fill="white"></path><path d="M14.2113 2.82727C13.5289 2.9345 13.0334 3.30168 12.7166 3.93207C12.6483 4.06692 12.6337 4.10429 12.5476 4.35449C12.5249 4.42111 12.4989 4.47635 12.4891 4.47635C12.4794 4.47635 12.4712 4.20664 12.468 3.70786L12.4648 2.941H11.3437H10.2227V7.20585V11.4707H11.3843H12.5444L12.5492 8.90692L12.5541 6.34476L12.5915 6.17741C12.6938 5.716 12.8855 5.39268 13.2089 5.14572C13.3908 5.00438 13.667 4.89065 13.9432 4.84028C14.0976 4.81104 14.6386 4.81104 14.8043 4.83866C14.9083 4.85653 15.0951 4.90527 15.1715 4.93451C15.191 4.94101 15.1943 4.78017 15.1943 3.91907C15.1943 2.9345 15.1926 2.89388 15.1634 2.88413C14.9879 2.82889 14.4209 2.79478 14.2113 2.82727Z" fill="white"></path><path d="M15.308 12.8821C15.0383 12.965 14.8872 13.2087 14.9343 13.4816C14.9733 13.7075 15.1325 13.8634 15.3697 13.9073C15.6232 13.9528 15.8523 13.8358 15.9628 13.6019C16.0066 13.5076 16.0099 13.4881 16.0034 13.3663C15.9953 13.2038 15.9628 13.1323 15.8523 13.0202C15.745 12.913 15.6281 12.8675 15.4656 12.8691C15.4006 12.8691 15.3307 12.8756 15.308 12.8821Z" fill="white"></path><path d="M1.74168 12.9588C1.71894 12.962 1.64583 12.9734 1.57921 12.9832C1.23315 13.0319 0.831849 13.209 0.609265 13.4072C0.290822 13.6948 0.144599 13.9937 0.121853 14.4113C0.0942329 14.8824 0.266452 15.2707 0.619013 15.5307C0.843222 15.6964 1.17466 15.8296 1.57921 15.9125C2.30221 16.0636 2.57028 16.1416 2.74088 16.2488C2.97971 16.3983 3.05932 16.6469 2.95209 16.9036C2.88873 17.0547 2.65639 17.2155 2.40944 17.2789C2.08775 17.3617 1.6572 17.3065 1.381 17.144C1.21528 17.0482 1.06256 16.8516 1.03494 16.6972L1.02356 16.6371H0.511782H0L0.0113729 16.7379C0.0406176 17.0059 0.123478 17.2415 0.253454 17.4219C0.510158 17.7809 0.90821 18.0084 1.45736 18.1124C1.66695 18.1513 2.36882 18.1513 2.57841 18.1124C2.87735 18.0555 3.13081 17.9661 3.3339 17.8443C3.46387 17.7679 3.66371 17.5941 3.75145 17.482C3.79044 17.4332 3.82943 17.3845 3.83755 17.3747C3.84405 17.365 3.8733 17.313 3.89929 17.261C4.06989 16.9214 4.10726 16.4405 3.98865 16.0847C3.92204 15.8833 3.76282 15.6672 3.56785 15.5193C3.50611 15.4722 3.28678 15.3536 3.1763 15.3081C2.99921 15.235 2.4923 15.1067 2.02763 15.0189C1.74656 14.9653 1.44599 14.8386 1.32413 14.7216C1.17466 14.577 1.14054 14.3593 1.23965 14.1562C1.29976 14.0327 1.46548 13.9011 1.63608 13.8426C1.78393 13.7923 2.01463 13.7728 2.2031 13.7939C2.60765 13.841 2.88385 14.0441 2.95696 14.3463L2.98458 14.46H3.47849H3.9724L3.96103 14.343C3.92854 13.9905 3.79044 13.6997 3.54186 13.4592C3.2949 13.2187 2.97159 13.0628 2.56541 12.988C2.43868 12.9637 1.83429 12.9425 1.74168 12.9588Z" fill="white"></path><path d="M5.97356 14.2649C5.67786 14.3088 5.37404 14.4323 5.1612 14.5947C5.04747 14.6808 4.81189 14.9375 4.81189 14.9733C4.81189 14.9847 4.80702 14.996 4.80052 14.9993C4.74528 15.0236 4.60231 15.347 4.54544 15.5728C4.43496 16.0212 4.45121 16.5964 4.58768 17.0025C4.70791 17.3648 4.97924 17.7125 5.28143 17.8929C5.70548 18.1447 6.34237 18.2162 6.90126 18.0748C7.28957 17.9757 7.65838 17.719 7.84034 17.4185C7.90858 17.308 8.01256 17.0285 8.01256 16.9587V16.9148H7.5479H7.08486L7.04586 16.9993C6.93701 17.2349 6.65918 17.3843 6.32774 17.3843C6.08566 17.3843 5.91182 17.3226 5.75747 17.1829C5.58363 17.0237 5.49427 16.8287 5.48127 16.5752L5.47477 16.4258H6.76154H8.04831L8.04018 16.0878C8.03531 15.8295 8.02556 15.7174 7.99957 15.6053C7.93295 15.3128 7.84034 15.1065 7.67625 14.8872C7.42117 14.546 7.04261 14.3315 6.5747 14.2649C6.44635 14.247 6.09541 14.247 5.97356 14.2649ZM6.50971 15.0383C6.56333 15.0513 6.63969 15.0821 6.6803 15.1049C6.88014 15.2235 7.03611 15.4867 7.05724 15.7434L7.06211 15.8003L6.279 15.8051L5.49427 15.8084V15.7629C5.49427 15.7385 5.50564 15.6752 5.51864 15.6248C5.59013 15.3486 5.78672 15.1293 6.03855 15.0415C6.14253 15.0058 6.37973 15.0041 6.50971 15.0383Z" fill="white"></path><path d="M17.9863 14.2733C17.4713 14.3578 17.083 14.6064 16.8117 15.0272C16.6021 15.3522 16.4965 15.8022 16.516 16.2945C16.5387 16.8696 16.6768 17.2531 16.9871 17.6024C17.3218 17.9809 17.8271 18.1678 18.4445 18.1434C18.9092 18.1255 19.2438 18.0069 19.5444 17.7567C19.819 17.5276 20.0156 17.141 20.0399 16.7786L20.0448 16.7007L19.5704 16.6974L19.096 16.6942L19.0797 16.7673C19.0229 17.0321 18.8344 17.2433 18.5956 17.3132C18.4721 17.3489 18.2463 17.3473 18.1358 17.3115C18.0513 17.2839 17.9213 17.2092 17.8515 17.1458C17.7507 17.0565 17.6305 16.8209 17.5883 16.6292C17.5428 16.4277 17.5476 15.9127 17.5964 15.7356C17.7507 15.1734 18.1732 14.9249 18.6622 15.1101C18.849 15.1816 19.0294 15.4123 19.0797 15.6446L19.0976 15.7275L19.5704 15.7242L20.0448 15.7193L20.0399 15.6543C20.0091 15.2303 19.7962 14.8387 19.4616 14.5885C19.265 14.4407 19.0554 14.3448 18.8019 14.288C18.6476 14.2522 18.165 14.2441 17.9863 14.2733Z" fill="white"></path><path d="M21.9454 14.2586C21.9275 14.2635 21.8544 14.2781 21.7829 14.2911C21.4531 14.3545 21.1834 14.4974 20.9543 14.7282C20.566 15.1165 20.3873 15.6542 20.4149 16.335C20.4474 17.1132 20.7658 17.6656 21.3491 17.9597C21.7634 18.1693 22.4279 18.2067 22.9364 18.0507C23.2809 17.9435 23.6221 17.6851 23.7878 17.4057C23.8593 17.2838 23.9567 17.0125 23.9486 16.9573C23.9437 16.9215 23.9405 16.9215 23.5132 16.9166C23.0794 16.9118 23.0095 16.9166 23.0095 16.9475C23.0095 16.9751 22.9007 17.136 22.8454 17.1896C22.7756 17.2562 22.5839 17.3488 22.475 17.3683C21.9015 17.4739 21.4482 17.1343 21.4206 16.5754L21.4141 16.426H22.7008H23.9876L23.9795 16.088C23.9697 15.6591 23.9291 15.4593 23.7943 15.175C23.5684 14.7022 23.1769 14.4032 22.6196 14.2814C22.5302 14.2602 22.0055 14.244 21.9454 14.2586ZM22.423 15.0304C22.7317 15.1002 22.9478 15.3715 22.9998 15.7468L23.0079 15.8086H22.2199H21.4336V15.7631C21.4336 15.6152 21.5376 15.3845 21.6675 15.2448C21.8576 15.0401 22.1273 14.9637 22.423 15.0304Z" fill="white"></path><path d="M10.3081 14.2825C10.105 14.3117 9.91166 14.4206 9.78981 14.5717C9.72482 14.6513 9.68908 14.7195 9.5851 14.947C9.56073 15.0006 9.5591 14.9876 9.5591 14.6659L9.55748 14.3296L9.06682 14.3328L8.57453 14.3377L8.56966 16.2012L8.56641 18.0664H9.07819H9.58997V16.9876C9.58997 15.7902 9.59484 15.7171 9.68908 15.5335C9.82718 15.2654 10.1099 15.1241 10.4576 15.1501C10.5372 15.1566 10.633 15.1712 10.672 15.1826C10.7094 15.1939 10.7451 15.1988 10.75 15.1939C10.7565 15.1891 10.7598 14.986 10.7598 14.7439V14.302L10.6477 14.2825C10.5193 14.263 10.4543 14.263 10.3081 14.2825Z" fill="white"></path><path d="M10.965 14.6334C11.0218 14.8024 11.1128 15.0623 11.1648 15.215C11.2168 15.3661 11.3127 15.6407 11.376 15.8243C11.4394 16.0079 11.5125 16.2191 11.5385 16.2955C11.5645 16.3718 11.6344 16.5717 11.6928 16.7423C11.9561 17.4945 12.0795 17.8552 12.112 17.9576L12.1445 18.0664L12.7294 18.0632L13.3143 18.0583L13.3988 17.8065C13.4459 17.6684 13.532 17.4149 13.5905 17.2459C13.7384 16.817 14.0568 15.8877 14.1705 15.5562C14.2225 15.4035 14.3102 15.1484 14.3655 14.9876C14.4207 14.8267 14.4938 14.6123 14.528 14.5116L14.5913 14.3296H14.0584H13.5255L13.4914 14.4466C13.4719 14.5116 13.4345 14.6497 13.4069 14.752C13.3793 14.8544 13.3419 14.9892 13.3257 15.0526C13.3078 15.1143 13.2688 15.2605 13.2363 15.3775C13.2054 15.4929 13.1616 15.6537 13.1388 15.735C13.1177 15.8146 13.0722 15.9803 13.0414 16.1005C13.0089 16.2207 12.9764 16.341 12.9666 16.3686C12.9585 16.3946 12.9211 16.5262 12.887 16.661C12.7814 17.0558 12.7522 17.1566 12.7392 17.1566C12.7343 17.1566 12.7213 17.129 12.7115 17.0948C12.7034 17.0623 12.6758 16.9616 12.6531 16.8722C12.6287 16.7829 12.5799 16.6074 12.5458 16.4823C12.4873 16.2744 12.4012 15.964 12.268 15.4669C12.2404 15.3645 12.2079 15.2475 12.1965 15.2069C12.1835 15.1663 12.1559 15.0607 12.1315 14.9713C12.1071 14.882 12.0665 14.7358 12.0422 14.6464C12.0178 14.557 11.9885 14.4498 11.9772 14.4059L11.9561 14.3296H11.4085H10.8594L10.965 14.6334Z" fill="white"></path><path d="M14.9512 16.198V18.0664H15.4678H15.9829V16.198V14.3296H15.4678H14.9512V16.198Z" fill="white"></path></svg>
                            </Link>
                        </div>
                    </div>
                </div>
            </div>
        </header>
    );
};

export default Navbar;
